╔═══════════════════════════════════════════════════════════════════════════════╗
║                    AI AGENT GUI - VISUAL WORKFLOW GUIDE                       ║
╚═══════════════════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────────────────┐
│                          APPLICATION ARCHITECTURE                              │
└───────────────────────────────────────────────────────────────────────────────┘

     ┌─────────────────────────────────────────────────────────────┐
     │                     MAIN GUI (main.py)                       │
     │  ┌────────────┬────────────┬────────────┬────────────┐     │
     │  │ Dashboard  │  Settings  │  Schedule  │    Logs    │     │
     │  └────────────┴────────────┴────────────┴────────────┘     │
     └──────────────────────────┬──────────────────────────────────┘
                                │
                                ▼
     ┌──────────────────────────────────────────────────────────────┐
     │              WORKFLOW MANAGER (workflow_manager.py)           │
     │  • Orchestrates all workflow steps                           │
     │  • Manages progress callbacks                                │
     │  • Handles errors and recovery                               │
     └──────────────────────────┬───────────────────────────────────┘
                                │
        ┌───────────────────────┼───────────────────────┐
        │                       │                       │
        ▼                       ▼                       ▼
┌──────────────┐        ┌──────────────┐       ┌──────────────┐
│   GEMINI AI  │        │ SORA VIDEO   │       │   YOUTUBE    │
│  (Planning)  │───────▶│ (Generate)   │──────▶│   (Upload)   │
└──────────────┘        └──────────────┘       └──────────────┘
                                │
                                ▼
                        ┌──────────────┐
                        │  WATERMARK   │
                        │  (KLing)     │
                        └──────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                          DETAILED WORKFLOW STEPS                               │
└───────────────────────────────────────────────────────────────────────────────┘

STEP 1: AI AGENT PLANNING
┌─────────────────────────────────────────────────────────────────┐
│  INPUT: Custom instructions from settings                       │
│         ↓                                                        │
│  ┌──────────────────────────────────────────────────────┐      │
│  │  Gemini 2.5 Flash AI Agent                           │      │
│  │  • Analyzes user preferences                         │      │
│  │  • Generates creative video prompt                   │      │
│  │  • Creates YouTube metadata (title, desc, tags)      │      │
│  └──────────────────────────────────────────────────────┘      │
│         ↓                                                        │
│  OUTPUT: Video prompt + Metadata                                │
│                                                                  │
│  Example:                                                        │
│  Prompt: "Futuristic city at sunset with flying cars..."       │
│  Title:  "The Future of Transportation | 2050"                 │
│  Tags:   ["Future", "Tech", "AI", "Transportation"]            │
└─────────────────────────────────────────────────────────────────┘

                              ↓

STEP 2: SORA 2 VIDEO GENERATION
┌─────────────────────────────────────────────────────────────────┐
│  INPUT: Video prompt from Step 1                                │
│         ↓                                                        │
│  ┌──────────────────────────────────────────────────────┐      │
│  │  OpenAI Sora 2 API                                   │      │
│  │  • Processes text prompt                             │      │
│  │  • Generates 30-60 second video                      │      │
│  │  • Renders at specified resolution (1080p/720p)      │      │
│  └──────────────────────────────────────────────────────┘      │
│         ↓                                                        │
│  OUTPUT: Generated video file (MP4) with watermark              │
│          Saved to: temp/generated_video.mp4                     │
│          Size: ~50-200 MB                                       │
└─────────────────────────────────────────────────────────────────┘

                              ↓

STEP 3: WATERMARK REMOVAL
┌─────────────────────────────────────────────────────────────────┐
│  INPUT: Generated video with watermark                          │
│         ↓                                                        │
│  ┌──────────────────────────────────────────────────────┐      │
│  │  KLing Watermark Remover                             │      │
│  │  • Detects watermark location (auto/manual)          │      │
│  │  • Removes watermark using AI inpainting             │      │
│  │  • Enhances video quality                            │      │
│  │                                                       │      │
│  │  Fallback: FFmpeg cropping if KLing unavailable     │      │
│  └──────────────────────────────────────────────────────┘      │
│         ↓                                                        │
│  OUTPUT: Clean video file (no watermark)                        │
│          Saved to: output/cleaned_video_TIMESTAMP.mp4           │
└─────────────────────────────────────────────────────────────────┘

                              ↓

STEP 4: VIDEO ENHANCEMENT
┌─────────────────────────────────────────────────────────────────┐
│  (Integrated with Step 3)                                        │
│  • Upscales resolution if needed                                │
│  • Applies quality enhancement filters                          │
│  • Optimizes for YouTube specifications                         │
└─────────────────────────────────────────────────────────────────┘

                              ↓

STEP 5: YOUTUBE UPLOAD
┌─────────────────────────────────────────────────────────────────┐
│  INPUT: Clean video + Metadata                                  │
│         ↓                                                        │
│  ┌──────────────────────────────────────────────────────┐      │
│  │  YouTube Data API v3                                 │      │
│  │  • Authenticates with OAuth 2.0                      │      │
│  │  • Uploads video file                                │      │
│  │  • Sets title, description, tags                     │      │
│  │  • Sets privacy status (public/unlisted/private)     │      │
│  └──────────────────────────────────────────────────────┘      │
│         ↓                                                        │
│  OUTPUT: Live YouTube video                                     │
│          Video ID: abc123xyz                                    │
│          URL: youtube.com/watch?v=abc123xyz                     │
│          Status: Public                                         │
└─────────────────────────────────────────────────────────────────┘

                              ↓

┌─────────────────────────────────────────────────────────────────┐
│  LOGGING & TRACKING                                              │
│  • Records upload in upload_tracker.json                        │
│  • Prevents duplicate uploads on same day                       │
│  • Logs all actions to logs/workflow_YYYYMM.log                │
└─────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                            SCHEDULING SYSTEM                                   │
└───────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────────────────────────────────────────────────┐
    │  User Configures Weekly Schedule:                        │
    │  • Monday:    09:00                                      │
    │  • Wednesday: 14:00                                      │
    │  • Friday:    18:00                                      │
    └──────────────────────────────────────────────────────────┘
                            ↓
    ┌──────────────────────────────────────────────────────────┐
    │  Scheduler (scheduler.py)                                │
    │  • Checks time every 60 seconds                          │
    │  • Compares current time with schedule                   │
    │  • Triggers workflow when time matches                   │
    └──────────────────────────────────────────────────────────┘
                            ↓
    ┌──────────────────────────────────────────────────────────┐
    │  Upload Tracker (logger.py)                              │
    │  • Checks if already uploaded today                      │
    │  • Prevents duplicate uploads                            │
    │  • Marks upload complete after success                   │
    └──────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                         SETTINGS MANAGEMENT                                    │
└───────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────────────────────────────────────────────────┐
    │  settings.json                                           │
    │  ┌────────────────────────────────────────────────────┐ │
    │  │  • openai_api_key     (for Sora)                  │ │
    │  │  • gemini_api_key     (for AI agent)              │ │
    │  │  • youtube_api_key    (for uploads)               │ │
    │  │  • agent_instructions (custom prompts)            │ │
    │  │  • video_duration     (seconds)                   │ │
    │  │  • video_resolution   (1080p/720p/480p)           │ │
    │  │  • weekly_schedule    (days & times)              │ │
    │  └────────────────────────────────────────────────────┘ │
    └──────────────────────────────────────────────────────────┘
                            ↓
    ┌──────────────────────────────────────────────────────────┐
    │  Settings Manager (settings_manager.py)                  │
    │  • Loads settings from JSON                              │
    │  • Provides default values                               │
    │  • Saves changes persistently                            │
    │  • Validates configuration                               │
    └──────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                              DATA FLOW                                         │
└───────────────────────────────────────────────────────────────────────────────┘

    User Input          API Services           Processing          Output
    ──────────          ────────────           ──────────          ──────
        │                    │                      │                 │
        ├─Settings──────────▶│                      │                 │
        │                    │                      │                 │
        ├─Schedule──────────▶│                      │                 │
        │                    │                      │                 │
        └─Start────────────▶ Gemini ──────────────▶│                 │
                             API                    │                 │
                              │                     │                 │
                              └─Prompt────────────▶ Sora ────────────▶│
                                                    API               │
                                                     │                │
                                                     └─Video─────────▶ KLing ────▶│
                                                                      Tool        │
                                                                       │          │
                                                                       └─Clean───▶ YouTube
                                                                         Video    API
                                                                                   │
                                                                                   └─Live!

┌───────────────────────────────────────────────────────────────────────────────┐
│                         DIRECTORY STRUCTURE                                    │
└───────────────────────────────────────────────────────────────────────────────┘

    ai_agent_gui/
    │
    ├── 📄 main.py                      Main application
    ├── 📄 requirements.txt             Dependencies
    ├── 📄 settings.json               ⚙️ Configuration
    ├── 📄 client_secrets.json         🔑 YouTube OAuth
    ├── 📄 token.pickle                🎫 Auth token
    │
    ├── 🚀 install.bat                  Installation script
    ├── 🚀 start_ai_agent.bat           Launch script
    ├── 🚀 setup_startup.bat            Startup automation
    │
    ├── 📚 README.md                    Main docs
    ├── 📚 QUICK_START.md               Quick guide
    ├── 📚 API_SETUP_GUIDE.md           API setup
    ├── 📚 CONFIGURATION_TEMPLATE.md    Config examples
    ├── 📚 EXAMPLE_WORKFLOW.md          Workflow example
    ├── 📚 FILE_STRUCTURE.md            File guide
    ├── 📚 PROJECT_OVERVIEW.md          Project summary
    ├── 📚 VISUAL_GUIDE.txt             This file
    │
    ├── 📁 modules/
    │   ├── gemini_agent.py            🤖 AI planning
    │   ├── sora_generator.py          🎬 Video generation
    │   ├── watermark_remover.py       ✨ Watermark removal
    │   ├── youtube_uploader.py        📤 Upload manager
    │   ├── workflow_manager.py        🔄 Orchestration
    │   ├── scheduler.py               ⏰ Scheduling
    │   ├── logger.py                  📝 Logging
    │   └── settings_manager.py        ⚙️ Settings
    │
    ├── 📁 output/                      Final videos
    ├── 📁 temp/                        Temporary files
    ├── 📁 logs/                        Log files
    └── 📁 venv/                        Python environment

┌───────────────────────────────────────────────────────────────────────────────┐
│                         GUI LAYOUT OVERVIEW                                    │
└───────────────────────────────────────────────────────────────────────────────┘

    ┌─────────────────────────────────────────────────────────────────────┐
    │  AI Agent - Sora Video to YouTube Workflow                    [_][□][X] │
    ├─────────────────────────────────────────────────────────────────────┤
    │  [Dashboard] [Settings] [Schedule] [Logs]                            │
    ├─────────────────────────────────────────────────────────────────────┤
    │                                                                       │
    │  AI Agent Workflow Dashboard                                         │
    │  ═══════════════════════════════════════════════════════════════    │
    │                                                                       │
    │  ┌─ Workflow Progress ───────────────────────────────────────────┐  │
    │  │                                                                │  │
    │  │  1. AI Agent Planning         [████████████] ✓ Completed     │  │
    │  │  2. Sora 2 Video Generation   [████████████] ✓ Completed     │  │
    │  │  3. Watermark Removal (KLing) [████████████] ✓ Completed     │  │
    │  │  4. Video Enhancement          [████████████] ✓ Completed     │  │
    │  │  5. YouTube Upload             [████████████] ✓ Completed     │  │
    │  │                                                                │  │
    │  └────────────────────────────────────────────────────────────────┘  │
    │                                                                       │
    │  Overall Status: Workflow Completed Successfully! ✓                  │
    │                                                                       │
    │  Next Scheduled Run: Wednesday (2 days) at 14:00                     │
    │                                                                       │
    │  [  Run Workflow Now  ]  [  Stop Workflow  ]                         │
    │                                                                       │
    └───────────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                      STARTUP AUTOMATION FLOW                                   │
└───────────────────────────────────────────────────────────────────────────────┘

    Windows Startup
         │
         ▼
    ┌────────────────────────────────┐
    │  Task Scheduler                │
    │  Runs: start_ai_agent.bat      │
    └────────────────────────────────┘
         │
         ▼
    ┌────────────────────────────────┐
    │  start_ai_agent.bat            │
    │  • Activates venv              │
    │  • Updates dependencies         │
    │  • Launches main.py            │
    └────────────────────────────────┘
         │
         ▼
    ┌────────────────────────────────┐
    │  main.py (GUI launches)        │
    │  • Loads settings              │
    │  • Starts scheduler thread     │
    │  • Displays dashboard          │
    └────────────────────────────────┘
         │
         ▼
    ┌────────────────────────────────┐
    │  Background Scheduler          │
    │  • Checks time every 60s       │
    │  • Triggers workflow when due  │
    │  • Runs silently in background │
    └────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                          ERROR HANDLING FLOW                                   │
└───────────────────────────────────────────────────────────────────────────────┘

    Workflow Step Executes
         │
         ├──Success?──YES──▶ Continue to next step
         │
         └──NO (Error)
              │
              ▼
         ┌────────────────────────────────┐
         │  Log error details             │
         │  • Timestamp                   │
         │  • Step name                   │
         │  • Error message               │
         └────────────────────────────────┘
              │
              ▼
         ┌────────────────────────────────┐
         │  Update GUI                    │
         │  • Show error status           │
         │  • Display error message       │
         │  • Enable "Run Now" button     │
         └────────────────────────────────┘
              │
              ▼
         ┌────────────────────────────────┐
         │  Stop workflow                 │
         │  • Clean up temp files         │
         │  • Reset progress bars         │
         │  • Wait for user action        │
         └────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────┐
│                      TIME & PERFORMANCE METRICS                                │
└───────────────────────────────────────────────────────────────────────────────┘

    Step                        Typical Time    Progress
    ────────────────────────    ────────────    ────────
    1. AI Agent Planning        5-10 seconds    ████░░░░  20%
    2. Sora Generation          30-90 seconds   ████████  50%
    3. Watermark Removal        30-60 seconds   ██████░░  30%
    4. Video Enhancement        (included)      ░░░░░░░░  (in step 3)
    5. YouTube Upload           30-60 seconds   ████████  50%
                                ────────────
    Total Workflow Time:        2-4 minutes     ████████  100%

┌───────────────────────────────────────────────────────────────────────────────┐
│                         QUICK REFERENCE                                        │
└───────────────────────────────────────────────────────────────────────────────┘

    🚀 QUICK START
    ──────────────
    1. Run install.bat
    2. Get API keys
    3. Configure in Settings tab
    4. Set schedule in Schedule tab
    5. Test with "Run Workflow Now"
    6. Setup startup automation

    🔑 API KEYS NEEDED
    ──────────────────
    • OpenAI API key      → platform.openai.com
    • Gemini API key      → ai.google.dev
    • YouTube OAuth file  → console.cloud.google.com

    📁 IMPORTANT FILES
    ──────────────────
    • settings.json          → Your configuration
    • client_secrets.json    → YouTube OAuth (you provide)
    • logs/upload_tracker.json → Upload history

    ⚙️ MAIN SETTINGS
    ────────────────
    • Video duration:    30-60 seconds
    • Video resolution:  1080p / 720p / 480p
    • Schedule:          Days + times
    • Instructions:      AI behavior guidance

    🔧 TROUBLESHOOTING
    ──────────────────
    • Check logs tab for errors
    • Verify API keys in settings
    • Check internet connection
    • Review API quotas
    • See README.md for detailed help

╔═══════════════════════════════════════════════════════════════════════════════╗
║                              END OF VISUAL GUIDE                               ║
║                                                                                ║
║  For more information:                                                         ║
║  • README.md - Complete documentation                                         ║
║  • QUICK_START.md - 5-minute setup guide                                     ║
║  • PROJECT_OVERVIEW.md - Project summary                                     ║
╚═══════════════════════════════════════════════════════════════════════════════╝

